{% extends "base.html" %}
{% block content %}

<h2>{{ course.title }}</h2>

<p><a href={{ url_for('course', id=course.id) }}>View</a></p>

<form method="post" name="course_title" role="form">

  {{ course_title_form.hidden_tag() }}

  <div class="form-group">
    {{ course_title_form.title.label }}
    {{ course_title_form.title(value = course.title, class="form-control") }}
    {% for message in course_title_form.title.errors %}
      <div class="flash">{{ message }}</div>
    {% endfor %}
  </div>
  
  {{ course_title_form.submit(class="btn btn-default") }}

</form>

<br>

<h3>Contents</h3>

<table class="table table-bordered">
  <tr>
    <th>Section</th>
    <th>Title</th>
    <th>Wikipedia title</th>
    <th>Wikipedia section</th>
  </tr>
  {% for section in sections %}
    <tr>
      <td>{{ section.chapter }}
          .{{ section.section }}
          .{{ section.subsection }}
          .{{ section.subsubsection }}
      </td>
      <td>{{ section.title }}</td>
      <td>{{ section.wiki_title }}</td>
      <td>{{ section.wiki_section }}</td>
    <tr>
  {% endfor %}
</table>

<h3>New section</h3>

<form method="post" name="new_section" role="form">

  {{ new_section_form.hidden_tag() }}

  <div class="form">

    <div class="form-group">
      {{ new_section_form.title.label }}
      {{ new_section_form.title(class="form-control") }}
      {% for message in new_section_form.title.errors %}
        <div class="flash">{{ message }}</div>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ new_section_form.wiki_title.label }}
      {{ new_section_form.wiki_title(class="form-control") }}
      {% for message in new_section_form.wiki_title.errors %}
        <div class="flash">{{ message }}</div>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ new_section_form.wiki_section.label }}
      {{ new_section_form.wiki_section(class="form-control") }}
      {% for message in new_section_form.wiki_section.errors %}
        <div class="flash">{{ message }}</div>
      {% endfor %}
    </div>

    <div class="form-inline">

      {{ new_section_form.chapter.label }}
      {{ new_section_form.chapter(class="form-control") }}

      {{ new_section_form.section.label }}
      {{ new_section_form.section(class="form-control") }}

      {{ new_section_form.subsection.label }}
      {{ new_section_form.subsection(class="form-control") }}

      {{ new_section_form.subsubsection.label }}
      {{ new_section_form.subsubsection(class="form-control") }}

    </div>

    {{ new_section_form.submit(class="btn btn-default") }}

  </div>

</form>

{% endblock %}
